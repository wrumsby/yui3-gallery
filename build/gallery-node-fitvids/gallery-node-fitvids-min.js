YUI.add("gallery-node-fitvids",function(f){var e=f.ClassNameManager.getClassName("fluid-width-video-wrapper"),c="."+e,d="fitvids:originalAttributes",a=['iframe[src^="http://player.vimeo.com"]','iframe[src^="http://www.youtube.com"]','iframe[src^="http://www.kickstarter.com"]',"object","embed"];function b(g){var h=[].concat(a);if(g){h.push(g);}return h.join(",");}f.namespace("Plugin").NodeFitVids=f.Base.create("NodeFitVids",f.Plugin.Base,[],{initializer:function(h){var i=this.get("host"),j=b(this.get("customSelector")),g=this;if(!f.instanceOf(i,f.Node)){return;}i.all(j).each(function(){var m=this.get("tagName"),l=this.get("parentNode"),p={},k,n,o;if((m==="EMBED"&&l.get("tagName")==="OBJECT")||l.hasClass(e)){return;}k=m==="OBJECT"?this.get("height"):this.getComputedStyle("height");n=this.getComputedStyle("width");o=parseInt(k,10)/parseInt(n,10);this.wrap('<div class="'+e+'"></div>');this.ancestor(c).setStyle("paddingTop",(o*100)+"%");if(this.get("height")){p.height=this.get("height");this.removeAttribute("height");}if(this.get("width")){p.width=this.get("width");this.removeAttribute("width");}this.setData(d,p);});},destructor:function(){var h=this.get("host"),i=b(this.get("customSelector")),g=this;if(!f.instanceOf(h,f.Node)){return;}h.all(i).each(function(){var j=this.get("tagName"),k;if(this.ancestor(c)){this.unwrap();k=this.getData(d)||{};if(k.height){this.set("height",k.height);}if(k.width){this.set("width",k.width);}this.clearData(d);}});}},{NS:"fitvids",ATTRS:{customSelector:null}});},"@VERSION@",{skinnable:false,requires:["plugin","base-build","node-base","node-style","node-pluginhost","classnamemanager"]});